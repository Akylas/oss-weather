{
    "$schema": "../schema.json",
    "name": "SimpleWeatherWidget",
    "displayName": "Simple Weather",
    "description": "Shows current temperature, weather icon, and location",
    "supportedSizes": [
        { "width": 50, "height": 50, "family": "small" },
        { "width": 80, "height": 80, "family": "small" },
        { "width": 120, "height": 120, "family": "small" },
        { "width": 260, "height": 120, "family": "medium" }
    ],
    "defaultPadding": ["case", ["<", ["get", "size.width"], 80], 0, ["<", ["get", "size.width"], 120], 4, 8],
    "background": {
        "type": "solid",
        "color": "widgetBackground"
    },
    "layout": {
        "type": "column",
        "alignment": "center",
        "crossAlignment": "center",
        "children": [
            {
                "type": "label",
                "text": ["get", "locationName"],
                "fontSize": ["case", [">=", ["get", "size.width"], 200], 16, 12],
                "color": "onSurfaceVariant",
                "textAlign": "center",
                "maxLines": 1,
                "visibleIf": [">=", ["get", "size.width"], 80]
            },
            {
                "type": "spacer",
                "flex": ["case", ["<", ["get", "size.width"], 200], 1, null],
                "size": ["case", [">=", ["get", "size.width"], 200], 8, null]
            },
            {
                "type": "image",
                "src": ["get", "iconPath"],
                "size": ["case", 
                    ["<", ["get", "size.width"], 80], 32,
                    ["<", ["get", "size.width"], 200], 56,
                    72
                ],
                "visibleIf": ["has", "iconPath"]
            },
            {
                "type": "spacer",
                "flex": ["case", ["all", [">=", ["get", "size.width"], 80], ["<", ["get", "size.width"], 200]], 1, null],
                "size": ["case", 
                    ["<", ["get", "size.width"], 80], 0,
                    [">=", ["get", "size.width"], 200], 8,
                    null
                ]
            },
            {
                "type": "label",
                "text": ["get", "temperature"],
                "fontSize": ["case", 
                    ["<", ["get", "size.width"], 80], 14,
                    ["<", ["get", "size.width"], 120], 22,
                    ["<", ["get", "size.width"], 200], 32,
                    48
                ],
                "fontWeight": "bold",
                "color": "onSurface",
                "textAlign": "center"
            },
            {
                "type": "spacer",
                "size": 4,
                "visibleIf": ["any", ["<", ["get", "size.width"], 80], [">=", ["get", "size.width"], 200]]
            },
            {
                "type": "label",
                "text": ["get", "locationName"],
                "fontSize": 8,
                "color": "onSurfaceVariant",
                "textAlign": "center",
                "maxLines": 1,
                "visibleIf": ["<", ["get", "size.width"], 80]
            },
            {
                "type": "label",
                "text": ["get", "description"],
                "fontSize": 14,
                "color": "onSurfaceVariant",
                "textAlign": "center",
                "visibleIf": ["all", ["has", "description"], [">=", ["get", "size.width"], 200]]
            }
        ]
    }
}
