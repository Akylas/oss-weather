{
  "$schema": "../schema.json",
  "name": "SimpleWeatherWithDateWidget",
  "displayName": "Weather with Date",
  "description": "Shows current date, temperature, weather icon, and location",
  "supportedSizes": [
    { "width": 120, "height": 50, "family": "small" },
    { "width": 120, "height": 80, "family": "small" },
    { "width": 180, "height": 80, "family": "small" },
    { "width": 260, "height": 120, "family": "medium" }
  ],
  "defaultPadding": 6,
  "background": {
    "type": "solid",
    "color": "widgetBackground"
  },
  "layout": {
    "type": "column",
    "alignment": "center",
    "crossAlignment": "stretch",
    "padding": ["case",
      ["<", ["get", "size.height"], 60], 2,
      ["<", ["get", "size.height"], 80], 4,
      6
    ],
    "spacing": ["case",
      ["<", ["get", "size.height"], 60], 2,
      4
    ],
    "children": [
      {
        "type": "conditional",
        "condition": [">=", ["get", "size.width"], 200],
        "then": {
          "type": "row",
          "alignment": "space-between",
          "crossAlignment": "center",
          "spacing": 8,
          "children": [
            {
              "type": "date",
              "style": "date",
              "fontSize": 32,
              "fontWeight": "bold",
              "color": "onSurface",
              "flex": 1
            },
            {
              "type": "row",
              "alignment": "end",
              "crossAlignment": "center",
              "spacing": 8,
              "children": [
                {
                  "type": "image",
                  "src": ["get", "iconPath"],
                  "size": 56,
                  "visibleIf": ["has", "iconPath"]
                },
                {
                  "type": "label",
                  "text": ["get", "temperature"],
                  "fontSize": 40,
                  "fontWeight": "bold",
                  "color": "onSurface"
                }
              ]
            }
          ]
        },
        "else": {
          "type": "column",
          "alignment": "center",
          "crossAlignment": "center",
          "spacing": ["case",
            ["<", ["get", "size.height"], 60], 2,
            4
          ],
          "children": [
            {
              "type": "date",
              "style": "date",
              "fontSize": ["case",
                ["<", ["get", "size.width"], 150], ["case",
                  ["<", ["get", "size.height"], 60], 14,
                  ["<", ["get", "size.height"], 80], 18,
                  22
                ],
                ["case",
                  ["<", ["get", "size.height"], 80], 20,
                  28
                ]
              ],
              "fontWeight": "bold",
              "color": "onSurface"
            },
            { "type": "spacer", "flex": 1 },
            {
              "type": "row",
              "alignment": "center",
              "crossAlignment": "center",
              "spacing": ["case",
                ["<", ["get", "size.height"], 60], 4,
                8
              ],
              "children": [
                {
                  "type": "image",
                  "src": ["get", "iconPath"],
                  "size": ["case",
                    ["<", ["get", "size.height"], 60], 28,
                    ["<", ["get", "size.height"], 80], 36,
                    48
                  ],
                  "visibleIf": ["has", "iconPath"]
                },
                {
                  "type": "label",
                  "text": ["get", "temperature"],
                  "fontSize": ["case",
                    ["<", ["get", "size.height"], 60], 18,
                    ["<", ["get", "size.height"], 80], 24,
                    32
                  ],
                  "fontWeight": "bold",
                  "color": "onSurface"
                }
              ]
            },
            { "type": "spacer", "flex": 1 }
          ]
        }
      },
      {
        "type": "label",
        "text": ["get", "locationName"],
        "fontSize": ["case",
          ["<", ["get", "size.height"], 60], 9,
          ["<", ["get", "size.height"], 80], 11,
          12
        ],
        "color": "onSurfaceVariant",
        "maxLines": 1,
        "textAlign": ["case",
          [">=", ["get", "size.width"], 200], "start",
          "center"
        ]
      }
    ]
  }
}
